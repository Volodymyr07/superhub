{"openapi":"3.0.0","info":{"title":"API: Loyalty","version":"3.0.0"},"servers":[{"url":"https://api.liteapi.travel/v3.0"}],"components":{"securitySchemes":{"apikeyAuth":{"name":"X-API-Key","type":"apiKey","in":"header"}}},"tags":[{"name":"Loyalty Program UPD"}],"paths":{"/guests":{"get":{"tags":["Loyalty Program UPD"],"summary":"Fetch all guests","description":"Fetches a list of all guests along with their loyalty program information, including accumulated points and booking history.","responses":{"200":{"description":"OK","headers":{"Content-Encoding":{"schema":{"type":"string","example":"gzip"}},"Content-Type":{"schema":{"type":"string","example":"application/json; charset=utf-8"}},"Vary":{"schema":{"type":"string","example":"Accept-Encoding"}},"X-Ratelimit-Limit":{"schema":{"type":"integer","example":"5"}},"X-Ratelimit-Remaining":{"schema":{"type":"integer","example":"4"}},"X-Ratelimit-Reset":{"schema":{"type":"integer","example":"1720776092"}},"X-Request-Id":{"schema":{"type":"string","example":"nHhcc446LDkRA8OFy2xNC"}},"Date":{"schema":{"type":"string","example":"Fri, 12 Jul 2024 09:21:34 GMT"}},"Content-Length":{"schema":{"type":"integer","example":"278"}}},"content":{"application/json":{"schema":{"type":"object"},"example":{"data":[{"id":5,"email":"joe@nuitee.com","firstName":"Joe","lastName":"Doe","phoneNumber":"+330000000","points":3172,"bookings":["MKDW0OjCT","H1VRQCX5o","Ibuf4Gic-","lwhsHu2rK","7AupH1yBo","ylwxGDLC1","9Tv--Ijct","U9BsCF8Ih","8dBdQjAqn","W7L3ozN0p","lWidEnw_b"],"createdAt":"2024-07-08T13:50:55+02:00","updatedAt":"2024-07-11T14:47:44+02:00","deletedAt":null},{"id":6,"email":"joe+bar@example.com","firstName":"Joe","lastName":"Doe","phoneNumber":"+3300000000","points":30,"bookings":["MKDW0OjCT","H1VRQCX5o"],"createdAt":"2024-07-08T13:52:25+02:00","updatedAt":"2024-07-11T14:47:44+02:00","deletedAt":null},{"id":7,"email":"joe+foo@example.com","firstName":"Joe","lastName":"Doe","phoneNumber":"+3300000000","points":350,"bookings":["MKDW0OjCT","H1VRQCX5o"],"createdAt":"2024-07-08T13:52:25+02:00","updatedAt":"2024-07-11T14:47:44+02:00","deletedAt":null}]}}}}},"security":[{"apikeyAuth":[]}]}},"/guests/{guestId}":{"get":{"tags":["Loyalty Program UPD"],"summary":"Fetch a specific guest","description":"Fetches detailed information about a guest, including personal data, loyalty points, and booking history.","parameters":[{"name":"guestId","in":"path","required":true,"schema":{"type":"integer"},"description":"Numeric ID of the guest to fetch","example":"1234"}],"responses":{"200":{"description":"OK","headers":{"Content-Encoding":{"schema":{"type":"string","example":"gzip"}},"Content-Type":{"schema":{"type":"string","example":"application/json; charset=utf-8"}},"Vary":{"schema":{"type":"string","example":"Accept-Encoding"}},"X-Ratelimit-Limit":{"schema":{"type":"integer","example":"5"}},"X-Ratelimit-Remaining":{"schema":{"type":"integer","example":"4"}},"X-Ratelimit-Reset":{"schema":{"type":"integer","example":"1720770455"}},"X-Request-Id":{"schema":{"type":"string","example":"WVXep1RNS-njCHDWhyRxx"}},"Date":{"schema":{"type":"string","example":"Fri, 12 Jul 2024 07:47:34 GMT"}},"Content-Length":{"schema":{"type":"integer","example":"226"}}},"content":{"application/json":{"schema":{"type":"object"},"example":{"data":[{"id":5,"email":"joe@nuitee.com","firstName":"Joe","lastName":"Doe","phoneNumber":"+330000000","points":3180,"bookings":["MKDW0OjCT","H1VRQCX5o","Ibuf4Gic-","lwhsHu2rK","7AupH1yBo","ylwxGDLC1","9Tv--Ijct","U9BsCF8Ih","8dBdQjAqn","W7L3ozN0p","lWidEnw_b"],"createdAt":"2024-07-08T13:50:55+02:00","updatedAt":"2024-07-11T14:47:44+02:00","deletedAt":null}]}}}},"400":{"description":"Bad Request","headers":{"Content-Encoding":{"schema":{"type":"string","example":"gzip"}},"Content-Type":{"schema":{"type":"string","example":"application/json; charset=utf-8"}},"Vary":{"schema":{"type":"string","example":"Accept-Encoding"}},"X-Ratelimit-Limit":{"schema":{"type":"integer","example":"5"}},"X-Ratelimit-Remaining":{"schema":{"type":"integer","example":"4"}},"X-Ratelimit-Reset":{"schema":{"type":"integer","example":"1720770620"}},"X-Request-Id":{"schema":{"type":"string","example":"NVv3adjtDpIx-o5Ld5asG"}},"Date":{"schema":{"type":"string","example":"Fri, 12 Jul 2024 07:50:20 GMT"}},"Content-Length":{"schema":{"type":"integer","example":"92"}}},"content":{"application/json":{"schema":{"type":"object"},"example":{"error":{"code":4003,"message":"request field is invalid or wrong"}}}}}},"security":[{"apikeyAuth":[]}]}},"/guests/{guestId}/bookings":{"get":{"tags":["Loyalty Program UPD"],"summary":"Fetch a guest's bookings","description":"Retrieves a list of all bookings associated with a specific guest, including details about the points earned and cashback applied for each booking.","parameters":[{"name":"guestId","in":"path","required":true,"schema":{"type":"integer"},"description":"Numeric ID of the guest to fetch","example":"1234"}],"responses":{"200":{"description":"OK","headers":{"Content-Encoding":{"schema":{"type":"string","example":"gzip"}},"Content-Type":{"schema":{"type":"string","example":"application/json; charset=utf-8"}},"Vary":{"schema":{"type":"string","example":"Accept-Encoding"}},"X-Ratelimit-Limit":{"schema":{"type":"integer","example":"5"}},"X-Ratelimit-Remaining":{"schema":{"type":"integer","example":"4"}},"X-Ratelimit-Reset":{"schema":{"type":"integer","example":"1720713191"}},"X-Request-Id":{"schema":{"type":"string","example":"iN2FRInfRFzFx9unb5qty"}},"Date":{"schema":{"type":"string","example":"Thu, 11 Jul 2024 15:53:10 GMT"}},"Content-Length":{"schema":{"type":"integer","example":"390"}}},"content":{"application/json":{"schema":{"type":"object"},"example":{"data":[{"id":12,"guestID":5,"bookingID":"MKDW0OjCT","points":30,"cashbackRateUsed":0.01,"expirationDate":null,"createdAt":"2024-07-08T13:50:55+02:00","updatedAt":"2024-07-08T13:50:55+02:00","deletedAt":null},{"id":13,"guestID":5,"bookingID":"MKDW0OjCT","points":30,"cashbackRateUsed":0.01,"expirationDate":null,"createdAt":"2024-07-08T13:51:20+02:00","updatedAt":"2024-07-08T13:51:20+02:00","deletedAt":null},{"id":14,"guestID":5,"bookingID":"MKDW0OjCT","points":30,"cashbackRateUsed":0.01,"expirationDate":null,"createdAt":"2024-07-08T13:51:47+02:00","updatedAt":"2024-07-08T13:51:47+02:00","deletedAt":null},{"id":18,"guestID":5,"bookingID":"MKDW0OjCT","points":30,"cashbackRateUsed":0.01,"expirationDate":null,"createdAt":"2024-07-08T17:09:01+02:00","updatedAt":"2024-07-08T17:09:01+02:00","deletedAt":null},{"id":19,"guestID":5,"bookingID":"MKDW0OjCT","points":60,"cashbackRateUsed":0.02,"expirationDate":null,"createdAt":"2024-07-08T15:40:09+02:00","updatedAt":"2024-07-08T15:40:09+02:00","deletedAt":null},{"id":20,"guestID":5,"bookingID":"MKDW0OjCT","points":3040,"cashbackRateUsed":1,"expirationDate":null,"createdAt":"2024-07-08T15:41:08+02:00","updatedAt":"2024-07-08T15:41:08+02:00","deletedAt":null},{"id":21,"guestID":5,"bookingID":"MKDW0OjCT","points":4,"cashbackRateUsed":0.01,"expirationDate":null,"createdAt":"2024-07-09T11:43:59+02:00","updatedAt":"2024-07-09T11:43:59+02:00","deletedAt":null},{"id":22,"guestID":5,"bookingID":"MKDW0OjCT","points":4,"cashbackRateUsed":0.01,"expirationDate":null,"createdAt":"2024-07-09T15:02:50+02:00","updatedAt":"2024-07-09T15:02:50+02:00","deletedAt":null},{"id":23,"guestID":5,"bookingID":"MKDW0OjCT","points":4,"cashbackRateUsed":0.01,"expirationDate":null,"createdAt":"2024-07-09T15:04:28+02:00","updatedAt":"2024-07-09T15:04:28+02:00","deletedAt":null},{"id":24,"guestID":5,"bookingID":"MKDW0OjCT","points":4,"cashbackRateUsed":0.01,"expirationDate":null,"createdAt":"2024-07-11T11:39:51+02:00","updatedAt":"2024-07-11T11:39:51+02:00","deletedAt":null},{"id":25,"guestID":5,"bookingID":"MKDW0OjCT","points":4,"cashbackRateUsed":0.01,"expirationDate":null,"createdAt":"2024-07-11T12:18:36+02:00","updatedAt":"2024-07-11T12:18:36+02:00","deletedAt":null},{"id":26,"guestID":5,"bookingID":"MKDW0OjCT","points":-30,"cashbackRateUsed":0.01,"expirationDate":null,"createdAt":"2024-07-11T12:26:57+02:00","updatedAt":"2024-07-11T12:26:57+02:00","deletedAt":null},{"id":27,"guestID":5,"bookingID":"MKDW0OjCT","points":-30,"cashbackRateUsed":0.01,"expirationDate":null,"createdAt":"2024-07-11T13:11:00+02:00","updatedAt":"2024-07-11T13:11:00+02:00","deletedAt":null}]}}}}},"security":[{"apikeyAuth":[]}]}},"/loyalties":{"put":{"tags":["Loyalty Program UPD"],"summary":"Update the loyalty program","description":"Updates the loyalty program settings, including status and cashback rates.","requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["status","cashbackRate"],"properties":{"status":{"type":"string","description":"Loyalty program status, either enabled or disabled","enum":["enabled","disabled"]},"cashbackRate":{"type":"number","format":"float","description":"Cashback rate in percentage, e.g. 0.1 = 10%","default":0.03}},"example":{"status":"enabled","cashbackRate":0.1}}}}},"security":[{"apikeyAuth":[]}],"responses":{"200":{"description":"OK","headers":{"Content-Encoding":{"schema":{"type":"string","example":"gzip"}},"Content-Type":{"schema":{"type":"string","example":"application/json; charset=utf-8"}},"Vary":{"schema":{"type":"string","example":"Accept-Encoding"}},"X-Ratelimit-Limit":{"schema":{"type":"integer","example":"5"}},"X-Ratelimit-Remaining":{"schema":{"type":"integer","example":"4"}},"X-Ratelimit-Reset":{"schema":{"type":"integer","example":"1720770325"}},"X-Request-Id":{"schema":{"type":"string","example":"hm_OabSbEGDlUIZuVlRVt"}},"Date":{"schema":{"type":"string","example":"Fri, 12 Jul 2024 07:45:25 GMT"}},"Content-Length":{"schema":{"type":"integer","example":"92"}}},"content":{"application/json":{"schema":{"type":"object"},"example":{"data":[{"cashbackRate":0.1,"cashbackCurrency":"USD","status":"enabled"}]}}}},"400":{"description":"Bad Request","headers":{"Content-Encoding":{"schema":{"type":"string","example":"gzip"}},"Content-Type":{"schema":{"type":"string","example":"application/json; charset=utf-8"}},"Vary":{"schema":{"type":"string","example":"Accept-Encoding"}},"X-Ratelimit-Limit":{"schema":{"type":"integer","example":"5"}},"X-Ratelimit-Remaining":{"schema":{"type":"integer","example":"4"}},"X-Ratelimit-Reset":{"schema":{"type":"integer","example":"1720770745"}},"X-Request-Id":{"schema":{"type":"string","example":"VEabOj-V7yPjX6KqufJM4"}},"Date":{"schema":{"type":"string","example":"Fri, 12 Jul 2024 07:52:24 GMT"}},"Content-Length":{"schema":{"type":"integer","example":"71"}}},"content":{"application/json":{"schema":{"type":"object"},"example":{"error":{"code":4000,"message":"bad request"}}}}}}},"get":{"tags":["Loyalty Program UPD"],"summary":"Get the loyalty program settings","description":"Retrieves information about current loyalty program settings, including status and cashback rates.","responses":{"200":{"description":"OK","headers":{"Content-Encoding":{"schema":{"type":"string","example":"gzip"}},"Content-Type":{"schema":{"type":"string","example":"application/json; charset=utf-8"}},"Vary":{"schema":{"type":"string","example":"Accept-Encoding"}},"X-Ratelimit-Limit":{"schema":{"type":"integer","example":"5"}},"X-Ratelimit-Remaining":{"schema":{"type":"integer","example":"4"}},"X-Ratelimit-Reset":{"schema":{"type":"integer","example":"1720770399"}},"X-Request-Id":{"schema":{"type":"string","example":"bx83fWe6J8z-BrqF1cLQB"}},"Date":{"schema":{"type":"string","example":"Fri, 12 Jul 2024 07:46:39 GMT"}},"Content-Length":{"schema":{"type":"integer","example":"93"}}},"content":{"application/json":{"schema":{"type":"object"},"example":{"data":[{"cashbackRate":0.1,"cashbackCurrency":"USD","status":"disabled"}]}}}}},"security":[{"apikeyAuth":[]}]}}}}