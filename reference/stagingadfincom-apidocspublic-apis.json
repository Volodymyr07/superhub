{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://staging.adfin.com/api","description":"Generated server url"}],"tags":[{"name":"Schedules","description":"Operations for managing schedules"},{"name":"Webhook","description":"Operations for managing webhooks"}],"paths":{"/schedules":{"put":{"tags":["Schedules"],"summary":"Create a new Schedule object for a specific customer.","operationId":"createSchedule","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateScheduleRequest"}}},"required":true},"responses":{"200":{"description":"The request was successful, resulting in the creation of one schedule.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScheduleResponse"}}}},"400":{"description":"There was an issue reading or understanding the request. Please ensure that it adheres to the required format and includes all necessary parameters."},"401":{"description":"Authentication is required."},"422":{"description":"A validation error occurred with the request."},"500":{"description":"The server was unable to process the request."}}}},"/schedules/settings":{"get":{"tags":["Schedules"],"summary":"Fetch the workflow related settings for the current authenticated biller or customer","operationId":"getSettings","parameters":[{"name":"customerId","in":"query","description":"The unique identifier (ID) of the customer","required":false,"schema":{"type":"string","description":"The unique identifier (ID) of the customer"}},{"name":"type","in":"query","description":"The type of schedule for which to retrieve default settings","required":false,"schema":{"type":"string","description":"The type of schedule for which to retrieve default settings"}}],"responses":{"200":{"description":"The settings were retrieved successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultSettingsResponse"}}}},"400":{"description":"There was an issue reading or understanding the request. Please ensure that it adheres to the required format and includes all necessary parameters."},"401":{"description":"Authentication is required."},"422":{"description":"A validation error occurred with the request."},"500":{"description":"The server was unable to process the request."}}},"put":{"tags":["Schedules"],"summary":"Create or update the workflow related settings.","operationId":"upsertSettings","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpsertSettingsRequest"}}},"required":true},"responses":{"200":{"description":"The request was successful.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScheduleResponse"}}}},"400":{"description":"There was an issue reading or understanding the request. Please ensure that it adheres to the required format and includes all necessary parameters."},"401":{"description":"Authentication is required."},"422":{"description":"A validation error occurred with the request."},"500":{"description":"The server was unable to process the request."}}}},"/invoices/{id}:void":{"put":{"tags":["Invoices"],"summary":"Void an invoice","operationId":"voidInvoice","parameters":[{"name":"id","in":"path","description":"The id of the invoice","required":true,"schema":{"type":"string","description":"The id of the invoice"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VoidInvoiceRequest"}}},"required":true},"responses":{"200":{"description":"The invoice was voided"},"400":{"description":"The invoice can not be voided"},"404":{"description":"The invoice does not exist"}}}},"/invoices/{id}:mark-as-paid":{"put":{"tags":["Invoices"],"summary":"Manually marks an invoice as paid (when paid outside Adfin)","operationId":"markInvoiceAsPaid","parameters":[{"name":"id","in":"path","description":"The id of the invoice to be marked as paid","required":true,"schema":{"type":"string","description":"The id of the invoice to be marked as paid"}}],"responses":{"200":{"description":"The invoice was successfully marked as paid"},"404":{"description":"The invoice cannot be found"}}}},"/invoices/{id}:activate":{"put":{"tags":["Invoices"],"summary":"Activate an invoice (send it for one time or direct debit collection)","operationId":"activateInvoice","parameters":[{"name":"id","in":"path","description":"The id of the invoice","required":true,"schema":{"type":"string","description":"The id of the invoice"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActivateInvoiceRequest"}}},"required":true},"responses":{"200":{"description":"The invoice was activated"},"400":{"description":"The invoice can not be activated"},"404":{"description":"The invoice does not exist"}}}},"/customers":{"get":{"tags":["Customers"],"summary":"Retrieve the list of Customers for a given filter","operationId":"getCustomers","parameters":[{"name":"onlyCustomersWithActivity","in":"query","description":"Filter customers that have any financial activity (invoices, direct debits)","required":false,"schema":{"type":"string","description":"Filter customers that have any financial activity (invoices, direct debits)"}},{"name":"searchText","in":"query","description":"Fuzzy search a customer based on a text","required":false,"schema":{"type":"string","description":"Fuzzy search a customer based on a text"}},{"name":"ddMandateSignedStartTime","in":"query","description":"Filter customers that have signed their direct debit mandate after this date","required":false,"schema":{"type":"string","description":"Filter customers that have signed their direct debit mandate after this date"}},{"name":"ddMandateSignedEndTime","in":"query","description":"Filter customers that have signed their direct debit mandate until this date","required":false,"schema":{"type":"string","description":"Filter customers that have signed their direct debit mandate until this date"}},{"name":"ddMandateStatuses","in":"query","description":"The status of the latest direct debit mandate","required":false,"schema":{"type":"string","description":"The status of the latest direct debit mandate"}},{"name":"includeCustomerFinancialDetails","in":"query","description":"This flag determines whether the response should include the financial status of the customer's invoices and payments","required":false,"schema":{"type":"string","description":"This flag determines whether the response should include the financial status of the customer's invoices and payments"}},{"name":"financialStatuses","in":"query","description":"The financial statuses of the payment situation of the customer","required":false,"schema":{"type":"string","description":"The financial statuses of the payment situation of the customer"}},{"name":"lastUpdatedStartTime","in":"query","description":"The start time after which the customer last updated time should be, including the start time.","required":false,"schema":{"type":"string","description":"The start time after which the customer last updated time should be, including the start time."}},{"name":"tagIds","in":"query","description":"The tag ids of the customer","required":false,"schema":{"type":"string","description":"The tag ids of the customer"}},{"name":"page","in":"query","description":"One-based page index (1..N)","required":false,"schema":{"minimum":0,"type":"integer","default":1}},{"name":"size","in":"query","description":"The size of the page to be returned","required":false,"schema":{"minimum":1,"type":"integer","default":100}},{"name":"sort","in":"query","description":"Sorting criteria in the format: property,(asc|desc). Default sort order is ascending. Multiple sort criteria are supported.","required":false,"schema":{"type":"array","items":{"type":"string"},"default":["creationTime,DESC"]}}],"responses":{"200":{"description":"The list of customers for the specified filter.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomersResponse"}}}},"400":{"description":"A problem reading or understanding the request. Ensure that the request complies with the required format and includes all necessary parameters."},"401":{"description":"Authentication required - Invalid or missing authorization headers."},"422":{"description":"A request validation error."},"500":{"description":"The server could not process the request."}}},"put":{"tags":["Customers"],"summary":"Update a customer","operationId":"putCustomer","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCustomerRequest"}}},"required":true},"responses":{"200":{"description":"The request has succeeded and has resulted in one customer being updated.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerResponse"}}}},"400":{"description":"A problem reading or understanding the request. Ensure that the request complies with the required format and includes all necessary parameters."},"401":{"description":"Authentication required."},"422":{"description":"A request validation error."},"500":{"description":"The server could not process the request."}}},"post":{"tags":["Customers"],"summary":"Create a customer","operationId":"postCustomer","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCustomerRequest"}}},"required":true},"responses":{"200":{"description":"The request has succeeded and has resulted in one customer being updated.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerResponse"}}}},"400":{"description":"A problem reading or understanding the request. Ensure that the request complies with the required format and includes all necessary parameters."},"401":{"description":"Authentication required."},"422":{"description":"A request validation error."},"500":{"description":"The server could not process the request."}}}},"/customers/{id}/directdebitmandates":{"get":{"tags":["DirectDebitMandate"],"summary":"Retrieve the direct debit mandates for a customer","operationId":"getDirectDebitMandatesByCustomerId","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"The direct debit mandate attached to the customer with the given id.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DirectDebitMandatesResponse"}}}},"404":{"description":"The direct debit mandate doesn't exist"}}},"put":{"tags":["DirectDebitMandate"],"summary":"API used to create a direct debit mandate","operationId":"create","parameters":[{"name":"id","in":"path","description":"The id of the customer for whom to create the mandate","required":true,"schema":{"type":"string","description":"The id of the customer for whom to create the mandate"}}],"responses":{"200":{"description":"The direct debit mandate was created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DirectDebitMandateResponse"}}}},"400":{"description":"Invalid input was provided in the request"}}}},"/customers/directdebitmandates/{id}:cancel":{"put":{"tags":["DirectDebitMandate"],"summary":"Cancel a direct debit mandate by its id","operationId":"cancelDirectDebitMandate","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CancelDirectDebitMandateRequest"}}},"required":true},"responses":{"200":{"description":"The direct debit mandate was cancelled."},"400":{"description":"The direct debit mandate can not be cancelled"},"404":{"description":"The direct debit mandate doesn't exist"}}}},"/apps/{clientId}/webhooks/{webhookId}":{"get":{"tags":["Webhook"],"summary":"Retrieve a webhook by id","operationId":"getWebhookById","parameters":[{"name":"clientId","in":"path","description":"The application identifier","required":true,"schema":{"type":"string","description":"The application identifier"}},{"name":"webhookId","in":"path","description":"The webhook identifier","required":true,"schema":{"type":"string","description":"The webhook identifier"}}],"responses":{"200":{"description":"The details of an existing webhook","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookResponse"}}}},"404":{"description":"The application or the webhook does not exist"}}},"put":{"tags":["Webhook"],"summary":"Update an existing webhook","operationId":"updateWebhook","parameters":[{"name":"clientId","in":"path","description":"The application identifier","required":true,"schema":{"type":"string","description":"The application identifier"}},{"name":"webhookId","in":"path","description":"The webhook identifier","required":true,"schema":{"type":"string","description":"The webhook identifier"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateWebhookRequest"}}},"required":true},"responses":{"200":{"description":"The updated webhook","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookResponse"}}}},"400":{"description":"Missing required fields"},"404":{"description":"The application or the webhook does not exist"}}},"delete":{"tags":["Webhook"],"summary":"Delete an existing webhook","operationId":"deleteWebhook","parameters":[{"name":"clientId","in":"path","description":"The application identifier","required":true,"schema":{"type":"string","description":"The application identifier"}},{"name":"webhookId","in":"path","description":"The webhook identifier","required":true,"schema":{"type":"string","description":"The webhook identifier"}}],"responses":{"204":{"description":"The webhook has been deleted"},"404":{"description":"The application or the webhook does not exist"}}}},"/apps/{clientId}/webhooks/digest":{"put":{"tags":["Webhook"],"summary":"Create or replace the secret key for webhooks signature","operationId":"generateWebhookSecretKey","parameters":[{"name":"clientId","in":"path","description":"The application identifier","required":true,"schema":{"type":"string","description":"The application identifier"}}],"responses":{"200":{"description":"The generated secret key","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookDigestResponse"}}}},"404":{"description":"The application does not exist"}}}},"/apps/{clientId}/webhooks/auth":{"put":{"tags":["Webhook"],"summary":"Create or replace the authentication type and details for the webhook target URLs","operationId":"storeWebhookAuthentication","parameters":[{"name":"clientId","in":"path","description":"The application identifier","required":true,"schema":{"type":"string","description":"The application identifier"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookAuthenticationRequest"}}},"required":true},"responses":{"204":{"description":"The authentication method and details have been stored"},"400":{"description":"Missing required fields"},"404":{"description":"The application does not exist"}}}},"/schedules/templates":{"get":{"tags":["Schedules"],"summary":"Fetch a schedule template using its unique identifier (ID)","operationId":"getScheduleTemplates","parameters":[{"name":"type","in":"query","description":"The type of schedule","required":true,"schema":{"type":"string","description":"The type of schedule"}}],"responses":{"200":{"description":"The schedule template was retrieved successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TemplatesResponse"}}}},"400":{"description":"There was an issue reading or understanding the request. Please ensure that it adheres to the required format and includes all necessary parameters."},"401":{"description":"Authentication is required."},"422":{"description":"A validation error occurred with the request."},"500":{"description":"The server was unable to process the request."}}},"post":{"tags":["Schedules"],"summary":"Create a new Schedule Template for recurring events.","operationId":"createScheduleTemplate","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateScheduleTemplateRequest"}}},"required":true},"responses":{"200":{"description":"The request was successful, resulting in the creation of one schedule template.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScheduleTemplateResponse"}}}},"400":{"description":"There was an issue reading or understanding the request. Please ensure that it adheres to the required format and includes all necessary parameters."},"401":{"description":"Authentication is required."},"422":{"description":"A validation error occurred with the request."},"500":{"description":"The server was unable to process the request."}}}},"/oauth2/token":{"post":{"tags":["Auth"],"summary":"Retrieve an OAuth2 Access token.","operationId":"issueOAuth2Token","parameters":[{"name":"Authorization","in":"header","description":"The authorization header","required":false,"schema":{"type":"string","description":"The authorization header"}},{"name":"grant_type","in":"query","required":true,"schema":{"type":"string"}},{"name":"client_id","in":"query","required":false,"schema":{"type":"string"}},{"name":"client_secret","in":"query","required":false,"schema":{"type":"string"}},{"name":"code","in":"query","required":false,"schema":{"type":"string"}},{"name":"refresh_token","in":"query","required":false,"schema":{"type":"string"}},{"name":"redirect_uri","in":"query","required":false,"schema":{"type":"string"}},{"name":"scope","in":"query","required":false,"schema":{"type":"array","items":{"type":"string"}}}],"responses":{"200":{"description":"The Access token was successfully issued."}}}},"/oauth2/authorize":{"post":{"tags":["Auth"],"summary":"Authorize an app to access Adfin data on behalf of a Adfin user.","operationId":"authorize","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthorizeRequest"}}},"required":true},"responses":{"200":{"description":"The app was successfully authorized."}}}},"/invoices":{"get":{"tags":["Invoices"],"summary":"Retrieve the list of Invoices for a given filter","operationId":"getInvoices","parameters":[{"name":"customerId","in":"query","description":"The id of the customer associated to the invoice.","required":false,"schema":{"type":"string","description":"The id of the customer associated to the invoice."}},{"name":"externalCustomerId","in":"query","description":"The id of the customer from the platform that is integrating with Adfin.","required":false,"schema":{"type":"string","description":"The id of the customer from the platform that is integrating with Adfin."}},{"name":"statuses","in":"query","description":"The status of the invoice.\n* DRAFT: The invoice does not contain contact details for the payer or it is not yet distributed.\n* UNPAID: The invoice is not yet paid.\n* OVERDUE: The invoice is not yet paid and it is passed the due date.\n* SCHEDULED: The invoice is scheduled to collect the payment via Direct Debit.\n* PAYMENT_PROCESSING: The remaining due amount on the invoice is covered by submitted (but not yet confirmed) Direct Debit payments.\n* PAID: The invoice is paid.\n* VOID: The invoice was voided.","required":false,"schema":{"type":"string","description":"The status of the invoice.\n* DRAFT: The invoice does not contain contact details for the payer or it is not yet distributed.\n* UNPAID: The invoice is not yet paid.\n* OVERDUE: The invoice is not yet paid and it is passed the due date.\n* SCHEDULED: The invoice is scheduled to collect the payment via Direct Debit.\n* PAYMENT_PROCESSING: The remaining due amount on the invoice is covered by submitted (but not yet confirmed) Direct Debit payments.\n* PAID: The invoice is paid.\n* VOID: The invoice was voided."}},{"name":"dueStartDate","in":"query","description":"The start date after which the invoices due date should be, including the start date.","required":false,"schema":{"type":"string","description":"The start date after which the invoices due date should be, including the start date."}},{"name":"dueEndDate","in":"query","description":"The end date before which the invoices due date should be, including the end date.","required":false,"schema":{"type":"string","description":"The end date before which the invoices due date should be, including the end date."}},{"name":"issueStartDate","in":"query","description":"The start date after which the invoices issue date should be, including the start date.","required":false,"schema":{"type":"string","description":"The start date after which the invoices issue date should be, including the start date."}},{"name":"issueEndDate","in":"query","description":"The end date before which the invoices issue date should be, including the end date.","required":false,"schema":{"type":"string","description":"The end date before which the invoices issue date should be, including the end date."}},{"name":"lastUpdatedStartTime","in":"query","description":"The start time after which the invoices last updated time should be, including the start time.","required":false,"schema":{"type":"string","description":"The start time after which the invoices last updated time should be, including the start time."}},{"name":"lastUpdatedEndTime","in":"query","description":"The end time before which the invoices last updated time should be, including the end time.","required":false,"schema":{"type":"string","description":"The end time before which the invoices last updated time should be, including the end time."}},{"name":"searchText","in":"query","description":"The text to search for in the invoices.","required":false,"schema":{"type":"string","description":"The text to search for in the invoices."}},{"name":"includeCount","in":"query","description":"Whether the response should include details on total count and counts per statuses","required":false,"schema":{"type":"string","description":"Whether the response should include details on total count and counts per statuses"}}],"responses":{"200":{"description":"The list of invoices for the specified filter.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvoiceResponse"}}}},"400":{"description":"A problem reading or understanding the request. Ensure that the request complies with the required format and includes all necessary parameters."},"401":{"description":"Authentication required - Invalid or missing authorization headers."},"422":{"description":"A request validation error."},"500":{"description":"The server could not process the request."}}},"post":{"tags":["Invoices"],"summary":"Create an Invoice","operationId":"postInvoice","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateInvoiceRequest"}}},"required":true},"responses":{"200":{"description":"The request was successful and the invoice was created.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvoiceResponse"}}}},"400":{"description":"A problem reading or understanding the request. Ensure that the request complies with the required format and includes all necessary parameters."},"401":{"description":"Authentication required."},"422":{"description":"A request validation error."},"500":{"description":"The server could not process the request."}}}},"/apps/{clientId}/webhooks":{"get":{"tags":["Webhook"],"summary":"Retrieve configured webhooks for an application identifier","operationId":"getWebhooks","parameters":[{"name":"clientId","in":"path","description":"The application identifier","required":true,"schema":{"type":"string","description":"The application identifier"}}],"responses":{"200":{"description":"A list of existing webhooks","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhooksResponse"}}}},"404":{"description":"The application does not exist"}}},"post":{"tags":["Webhook"],"summary":"Create a new webhook","operationId":"createWebhook","parameters":[{"name":"clientId","in":"path","description":"The application identifier","required":true,"schema":{"type":"string","description":"The application identifier"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateWebhookRequest"}}},"required":true},"responses":{"201":{"description":"The created webhook","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookResponse"}}}},"400":{"description":"Missing required fields"},"404":{"description":"The application or the webhook does not exist"}}}},"/schedules/{id}":{"get":{"tags":["Schedules"],"summary":"Fetch a schedule using its unique identifier (ID)","operationId":"getSchedule","parameters":[{"name":"id","in":"path","description":"The unique identifier (ID)","required":true,"schema":{"type":"string","description":"The unique identifier (ID)"}}],"responses":{"200":{"description":"The schedule was retrieved successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScheduleResponse"}}}},"400":{"description":"There was an issue reading or understanding the request. Please ensure that it adheres to the required format and includes all necessary parameters."},"401":{"description":"Authentication is required."},"422":{"description":"A validation error occurred with the request."},"500":{"description":"The server was unable to process the request."}}}},"/schedules/templates/{id}":{"get":{"tags":["Schedules"],"summary":"Fetch a schedule template using its unique identifier (ID)","operationId":"getScheduleTemplate","parameters":[{"name":"id","in":"path","description":"The unique identifier (ID)","required":true,"schema":{"type":"string","description":"The unique identifier (ID)"}}],"responses":{"200":{"description":"The schedule template was retrieved successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScheduleTemplateResponse"}}}},"400":{"description":"There was an issue reading or understanding the request. Please ensure that it adheres to the required format and includes all necessary parameters."},"401":{"description":"Authentication is required."},"422":{"description":"A validation error occurred with the request."},"500":{"description":"The server was unable to process the request."}}},"delete":{"tags":["Schedules"],"summary":"Delete a workflow template","operationId":"deleteTemplate","parameters":[{"name":"id","in":"path","description":"The ID of the template to be deleted","required":true,"schema":{"type":"string","description":"The ID of the template to be deleted"}}],"responses":{"200":{"description":"OK"},"204":{"description":"The template was deleted"}}}},"/schedules/invoices":{"get":{"tags":["Schedules"],"summary":"Fetch invoice schedules by the invoice unique identifier (ID) and other filters ","operationId":"getInvoiceSchedules","parameters":[{"name":"invoiceId","in":"query","description":"The internal id of the invoice for which to retrieve the schedules","required":true,"schema":{"type":"string","description":"The internal id of the invoice for which to retrieve the schedules"}},{"name":"state","in":"query","description":"The state of the invoice schedules to be retrieved","required":true,"schema":{"type":"string","description":"The state of the invoice schedules to be retrieved"}}],"responses":{"200":{"description":"The schedules were retrieved successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScheduleResponse"}}}},"400":{"description":"There was an issue reading or understanding the request. Please ensure that it adheres to the required format and includes all necessary parameters."},"401":{"description":"Authentication is required."},"422":{"description":"A validation error occurred with the request."},"500":{"description":"The server was unable to process the request."}}}},"/oauth2/authorization/{clientId}":{"get":{"tags":["Auth"],"summary":"Get the authorization details for an app","operationId":"getAppAuthorizationDetails","parameters":[{"name":"clientId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"The app was successfully retrieved","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AppResponse"}}}},"404":{"description":"No app was found with the provided client id"}}}},"/invoices/{id}":{"get":{"tags":["Invoices"],"summary":"Get an Invoice by its id","operationId":"getInvoice","parameters":[{"name":"id","in":"path","description":"The id of the invoice to get the details for","required":true,"schema":{"type":"string","description":"The id of the invoice to get the details for"}}],"responses":{"200":{"description":"The Invoice data is successfully retrieved","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvoiceResponse"}}}},"404":{"description":"The invoice cannot be found"}}},"delete":{"tags":["Invoices"],"summary":"Delete an invoice","operationId":"deleteInvoice","parameters":[{"name":"id","in":"path","description":"The ID of the invoice to be deleted","required":true,"schema":{"type":"string","description":"The ID of the invoice to be deleted"}}],"responses":{"200":{"description":"OK"},"204":{"description":"The invoice was deleted"}}}},"/invoices/{id}/file":{"get":{"tags":["Invoices"],"summary":"Get the file for a specific Invoice","operationId":"getFile","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"The invoice file is successfully returned","content":{"application/octet-stream":{"schema":{"$ref":"#/components/schemas/StreamingResponseBody"}}}},"404":{"description":"The invoice cannot be found"}}}},"/customers/{id}":{"get":{"tags":["Customers"],"summary":"Retrieve a Customer by its ID","operationId":"getCustomerById","parameters":[{"name":"id","in":"path","description":"The id of the customer to get the details for","required":true,"schema":{"type":"string","description":"The id of the customer to get the details for"}},{"name":"includeCustomerFinancialDetails","in":"query","description":"This flag determines whether the response should include the financial status of the customer's invoices and payments.","required":false,"schema":{"type":"string","description":"This flag determines whether the response should include the financial status of the customer's invoices and payments."}}],"responses":{"200":{"description":"The customer with the specified ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerResponse"}}}},"400":{"description":"A problem reading or understanding the request. Ensure that the request complies with the required format and includes all necessary parameters."},"401":{"description":"Authentication required - Invalid or missing authorization headers."},"422":{"description":"A request validation error."},"500":{"description":"The server could not process the request."}}},"delete":{"tags":["Customers"],"summary":"Delete a customer","operationId":"deleteCustomer","parameters":[{"name":"id","in":"path","description":"The id of the customer.","required":true,"schema":{"type":"string","description":"The id of the customer."}}],"responses":{"200":{"description":"OK"},"204":{"description":"The request has succeeded and has resulted in one customer being deleted."}}}},"/customers/directdebitmandates/{id}":{"get":{"tags":["DirectDebitMandate"],"summary":"Retrieve a direct debit mandate by its id","operationId":"getDirectDebitMandate","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"The direct debit mandate corresponding to the provided id.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DirectDebitMandateResponse"}}}},"404":{"description":"The direct debit mandate doesn't exist"}}}}},"components":{"schemas":{"CreateScheduleRequest":{"type":"object","properties":{"templateId":{"type":"string","description":"The internal id of the template to be used for defining the schedule. Can be used in place of defining individual events for a schedule; in this case, the events will be automatically copied from the template. This streamlines the process and ensures consistency across schedules."},"customerDetails":{"$ref":"#/components/schemas/CustomerDetailsRequest"},"invoiceDetails":{"$ref":"#/components/schemas/InvoiceDetailsRequest"},"name":{"type":"string","description":"The name of the schedule to be created for the customer. It must be unique, contain only alphanumeric characters, and be limited to a maximum of 50 characters"},"type":{"type":"string","description":"The type of the schedule to be created for the customer","enum":["ONE_TIME_PAYMENT","DD_MANDATE_AUTHORISATION","DD_PAYMENT","SCHEDULE_INVOICE","CREATE_INVOICE"]},"events":{"type":"array","description":"A list of events that will occur as part of the schedule, applicable exclusively to a single customer","items":{"$ref":"#/components/schemas/EventRequest"}}}},"CustomerDetailsRequest":{"type":"object","properties":{"id":{"type":"string","description":"The Adfin ID associated with the customer for whom this invoice is being generated."},"externalId":{"type":"string","description":"The customer ID within the platform that integrates with Adfin."}},"description":"Information about the customer for whom this schedule is being created."},"Duration":{"type":"object","properties":{"startDate":{"type":"string","description":"The date when the event execution will begin","format":"date-time"},"endDate":{"type":"string","description":"The date on which the execution of the event will conclude","format":"date-time"},"maxNoOfExecutions":{"type":"integer","description":"The maximum allowable executions of an event","format":"int32"}},"description":"The event duration"},"EventRequest":{"type":"object","properties":{"frequency":{"$ref":"#/components/schemas/Frequency"},"duration":{"$ref":"#/components/schemas/Duration"},"trigger":{"$ref":"#/components/schemas/Trigger"},"type":{"type":"string","description":"Attribute that specifies the type of event","enum":["CREATE_INVOICE","ACTIVATE_INVOICE","SEND_NOTIFICATION","MAKE_PAYMENT","UPDATE_DIRECT_DEBIT_PAYMENTS"]},"details":{"type":"object","description":"Attribute used for defining details related to an event. Can be utilized to create a new invoice request. This flexibility allows to tailor schedules effectively, ensuring that the appropriate information and formats are used for each scenario"}},"description":"A list of events that will occur as part of the schedule, applicable exclusively to a single customer"},"Frequency":{"type":"object","properties":{"timeUnit":{"type":"string","description":"Time unit measurements used to define the frequency of events","enum":["SECOND","MINUTE","HOUR","DAY","MONTH","MONTH, WEEK, DAY"]},"frequency":{"type":"integer","description":"The frequency of the time units","format":"int32"},"dayOfMonth":{"type":"integer","description":"The specific day of the month designated for executing the event. Please note that short month handling is applicable; if the value is set to 29, 30, or 31, the execution will occur on the last day of the month when applicable","format":"int32"}},"description":"The event frequency"},"InvoiceDetailsRequest":{"type":"object","properties":{"id":{"type":"string","description":"The id of the invoice."}},"description":"Information about the invoice for which this schedule was created."},"Trigger":{"type":"object","properties":{"days":{"type":"integer","description":"The number of days before/after sent date","format":"int32"},"operator":{"type":"string","description":"The operator used for determining the send date","enum":["ON","AFTER","BEFORE"]},"referenceDate":{"type":"string","description":"The reference date used for computing the date when to execute the workflow step","enum":["DUE_DATE","SENT_DATE","PAYMENT_DATE"]}},"description":"The event trigger"},"CustomerDetails":{"type":"object","properties":{"id":{"type":"string"},"externalId":{"type":"string"}},"description":"Information about the customer for whom this schedule was created."},"EventResponse":{"type":"object","properties":{"id":{"type":"string","description":"The internal id of the created event"},"frequency":{"$ref":"#/components/schemas/Frequency"},"duration":{"$ref":"#/components/schemas/Duration"},"trigger":{"$ref":"#/components/schemas/Trigger"},"triggerDate":{"type":"string","description":"The event trigger date computed based on event execution configurations","format":"date-time"},"type":{"type":"string","description":"The type of event","enum":["CREATE_INVOICE","ACTIVATE_INVOICE","SEND_NOTIFICATION","MAKE_PAYMENT","UPDATE_DIRECT_DEBIT_PAYMENTS"]},"state":{"type":"string","description":"The current state of the event","enum":["SCHEDULED","ACTIVE","PAUSED","SKIPPED","FAILED","FINISHED"]},"details":{"type":"object","description":"Attribute used for defining details related to an event. Can be utilized to create a new invoice request. This flexibility allows to tailor instances effectively, ensuring that the appropriate information and formats are used for each scenario"}},"description":"The list of events that will occur as part of the schedule, applicable exclusively to a single customer"},"ScheduleResponse":{"type":"object","properties":{"id":{"type":"string","description":"The internal id of the schedule created"},"templateId":{"type":"string","description":"The internal id of the template used to define the schedule. This template id has been utilized to automatically copy events into the instance, streamlining the process and ensuring consistency throughout"},"customerDetails":{"$ref":"#/components/schemas/CustomerDetails"},"invoiceDetails":{"$ref":"#/components/schemas/InvoiceDetailsRequest"},"name":{"type":"string","description":"The name of the schedule created for the customer"},"type":{"type":"string","description":"Attribute that specifies the type of schedule","enum":["ONE_TIME_PAYMENT","DD_MANDATE_AUTHORISATION","DD_PAYMENT","SCHEDULE_INVOICE","CREATE_INVOICE","CREATE_INVOICE"]},"state":{"type":"string","description":"The current state of the schedule","enum":["PENDING","ACTIVE","PAUSED","TERMINATED"]},"creationTime":{"type":"string","description":"The creation time of the schedule","format":"date-time"},"lastUpdatedTime":{"type":"string","description":"Last time the schedule was updated","format":"date-time"},"events":{"type":"array","description":"The list of events that will occur as part of the schedule, applicable exclusively to a single customer","items":{"$ref":"#/components/schemas/EventResponse"}}}},"UpsertSettingsRequest":{"type":"object","properties":{"customerIds":{"type":"array","description":"The list of customer ids.","items":{"type":"string","description":"The list of customer ids."}},"templateId":{"type":"string","description":"The id of the schedule template id."},"type":{"type":"string","description":"The type of the schedule template.","enum":["ONE_TIME_PAYMENT","DD_MANDATE_AUTHORISATION","DD_PAYMENT","SCHEDULE_INVOICE","CREATE_INVOICE"]},"applyToActiveWorkflows":{"type":"boolean","description":"Indicates if the template should apply to all workflows, including active ones."}}},"VoidInvoiceRequest":{"type":"object","properties":{"reasonCode":{"type":"string"},"reason":{"type":"string"}}},"ActivateInvoiceRequest":{"required":["collectionMethod"],"type":"object","properties":{"collectionMethod":{"type":"string","description":"How the payment is expected to be collected for this invoice.","enum":["ONE_TIME_PAYMENT","DIRECT_DEBIT_PAYMENT"]},"customMessage":{"type":"string","description":"An optional message that will be sent to the customer when the invoice is activated."},"templateId":{"type":"string","description":"The schedule template id used for sending the invoice to customer."}},"description":"Activate an invoice. Sends it to collection via One time payment or Direct Debit"},"Address":{"type":"object","properties":{"city":{"type":"string","description":"The name of the city."},"postalCode":{"type":"string","description":"The postal code."},"country":{"type":"string","description":"The two-letter ISO 3166-1 alpha-2 country code."},"addressLine1":{"type":"string","description":"The name of the street, and the house or building number."}},"description":"The address of a customer location"},"Person":{"type":"object","properties":{"id":{"type":"string","description":"The internal id of the person."},"firstName":{"type":"string","description":"The first name of the person."},"lastName":{"type":"string","description":"The last name of the person."},"email":{"type":"string","description":"The email of the person."},"phoneNo":{"type":"string","description":"The phone number of the person."},"isPrimaryContact":{"type":"boolean","description":"True if this person is a primary contact."},"isIncludedInCommunications":{"type":"boolean","description":"True if this person is included in the customers communications."}},"description":"The data defining a person."},"UpdateCustomerRequest":{"type":"object","properties":{"id":{"type":"string","description":"The Adfin id of the customer."},"externalId":{"type":"string","description":"The id of the customer from the platform that is integrating with Adfin."},"name":{"type":"string","description":"The full name of the customer."},"people":{"type":"array","description":"The list of people assigned to the customer.","items":{"$ref":"#/components/schemas/Person"}},"addresses":{"type":"array","description":"The list of the addresses for the customer. Only 1 pe supported for now","items":{"$ref":"#/components/schemas/Address"}}},"description":"Details to update a customer."},"CustomerDiscount":{"type":"object","properties":{"percentage":{"type":"number","description":"The discount as a percentage to be applied for the invoices."},"period":{"type":"integer","description":"The period in hours until the discount expires.","format":"int32"}},"description":"The customer discount details."},"CustomerExternalData":{"type":"object","properties":{"connectorType":{"type":"string","description":"The connector type","enum":["XERO","QUICKBOOKS"]},"id":{"type":"string","description":"The ID of the Customer in the external platform."},"name":{"type":"string","description":"The name of the Customer in the external platform."}},"description":"References about the customer from external platforms Adfin integrates with."},"CustomerResponse":{"type":"object","properties":{"id":{"type":"string","description":"The Adfin id of the customer."},"externalId":{"type":"string","description":"The id of the customer from the platform that is integrating with Adfin."},"name":{"type":"string","description":"The full name of the customer."},"creationTime":{"type":"string","description":"The time the customer was created.","format":"date-time"},"lastUpdatedTime":{"type":"string","description":"The last time when the customer was updated.","format":"date-time"},"people":{"type":"array","description":"The list of people assigned to the customer.","items":{"$ref":"#/components/schemas/Person"}},"addresses":{"type":"array","description":"The list of the addresses for the customer.","items":{"$ref":"#/components/schemas/Address"}},"directDebitMandate":{"$ref":"#/components/schemas/DirectDebitMandateSummary"},"timezone":{"type":"string","description":"The timezone of the customer."},"discount":{"$ref":"#/components/schemas/CustomerDiscount"},"externalData":{"type":"array","description":"References about this customer from external platforms Adfin integrates with, such as ID, etc.","items":{"$ref":"#/components/schemas/CustomerExternalData"}},"tags":{"type":"array","description":"The tag ids associated with the customer.","items":{"type":"string","description":"The tag ids associated with the customer."}}},"description":"The customer details."},"DirectDebitMandateSummary":{"type":"object","properties":{"id":{"type":"string","description":"The id of the direct debit mandate."},"status":{"type":"string","description":"The status of the Direct Debit Mandate, if any present.\n* CREATED: The Direct Debit Mandate was created with success.\n* PENDING: The Direct Debit Mandate was signed and accepted by the customer and it is in the Payment Provider's accepted timeframe.\n* ACTIVE: The Direct Debit Mandate was confirmed by the Payment Provider.\n* CANCELLED: The Direct Debit Mandate was cancelled directly by the customer.","enum":["CREATED","PENDING","ACTIVE","CANCELLED"]},"lastUpdatedTime":{"type":"string","description":"The last time when the mandate was updated","format":"date-time"}},"description":"Direct Debit details."},"DirectDebitMandateResponse":{"type":"object","properties":{"id":{"type":"string","description":"The ID of the mandate"},"creationTime":{"type":"string","description":"The creation time of the mandate","format":"date-time"},"lastUpdateTime":{"type":"string","description":"The last time when the mandate was updated","format":"date-time"},"status":{"type":"string","description":"The mandate status","enum":["CREATED","PENDING","ACTIVE","CANCELLED"]},"failureReason":{"type":"string","description":"The reason for failing to set up the mandate"},"customer":{"$ref":"#/components/schemas/CustomerResponse"},"url":{"type":"string","description":"The URL where the customer can sign the direct debit mandate."},"sender":{"$ref":"#/components/schemas/SenderResponse"},"bankAccountNumber":{"type":"string","description":"The mandate bank account number"},"sortCode":{"type":"string","description":"The mandate sort code"},"bankAccountHolderName":{"type":"string","description":"The mandate bank account holder name"}},"description":"Direct Debit mandate details"},"SenderResponse":{"type":"object","properties":{"name":{"type":"string","description":"The registration name of the sender."}},"description":"The sender details."},"CancelDirectDebitMandateRequest":{"type":"object","properties":{"reason":{"type":"string","description":"The reason for cancelling a direct debit mandate"}}},"UpdateWebhookRequest":{"type":"object","properties":{"url":{"type":"string","description":"The url of the webhook target."},"events":{"type":"array","description":"The list of events to subscribe.","items":{"type":"string","description":"The supported event types for webhooks subscription","enum":["payment","dd-mandate","invoice","biller"]}},"name":{"type":"string","description":"The name of the webhook."},"description":{"type":"string","description":"The description of the webhook."},"enabled":{"type":"boolean","description":"The state of the webhook configuration."}}},"WebhookResponse":{"type":"object","properties":{"id":{"type":"string","description":"The identifier of the webhook"},"clientId":{"type":"string","description":"The identifier of the application"},"url":{"type":"string","description":"The target URL of the webhook"},"name":{"type":"string","description":"Name of the webhook"},"description":{"type":"string","description":"Description of the webhook"},"events":{"type":"array","description":"The list of event types to trigger webhook instantiation","items":{"type":"string","description":"The list of event types to trigger webhook instantiation"}},"enabled":{"type":"boolean","description":"The state of the webhook"},"creationTime":{"type":"string","description":"The creation timestamp of the webhook","format":"date-time"},"lastUpdatedTime":{"type":"string","description":"The last updated timestamp of the webhook","format":"date-time"}}},"WebhookDigestResponse":{"type":"object","properties":{"secretKey":{"type":"string"}}},"ApiKeyAuthentication":{"type":"object","properties":{"headerKey":{"type":"string","description":"The header key of the API Key used by the webhook invocations"},"headerValue":{"type":"string","description":"The header value of the API Key used by the webhook invocations"}},"description":"API Key used for the webhook invocations authentication."},"BasicAuthentication":{"type":"object","properties":{"username":{"type":"string","description":"The username used by the webhook invocations for basic authentication"},"password":{"type":"string","description":"The password used by the webhook invocations for basic authentication"}},"description":"Basic authentication credentials used for the webhook invocations."},"WebhookAuthenticationRequest":{"type":"object","properties":{"basicAuthentication":{"$ref":"#/components/schemas/BasicAuthentication"},"apiKeyAuthentication":{"$ref":"#/components/schemas/ApiKeyAuthentication"}}},"CreateScheduleTemplateRequest":{"type":"object","properties":{"name":{"type":"string","description":"The name of the schedule template"},"type":{"type":"string","description":"Attribute that specifies the type of the schedule template","enum":["ONE_TIME_PAYMENT","DD_MANDATE_AUTHORISATION","DD_PAYMENT","SCHEDULE_INVOICE","CREATE_INVOICE"]},"events":{"type":"array","description":"A list of events that will take place as part of the schedule template","items":{"$ref":"#/components/schemas/EventTemplateRequest"}}}},"EventTemplateRequest":{"type":"object","properties":{"frequency":{"$ref":"#/components/schemas/Frequency"},"duration":{"$ref":"#/components/schemas/Duration"},"trigger":{"$ref":"#/components/schemas/Trigger"},"type":{"type":"string","description":"Attribute that specifies the type of event","enum":["CREATE_INVOICE","ACTIVATE_INVOICE","SEND_NOTIFICATION","MAKE_PAYMENT","UPDATE_DIRECT_DEBIT_PAYMENTS"]},"details":{"type":"object","description":"Attribute used for defining details related to an event. Can be utilized to create a new invoice request. This flexibility allows to tailor instances effectively, ensuring that the appropriate information and formats are used for each scenario"}},"description":"A list of events that will take place as part of the schedule template"},"EventTemplateResponse":{"type":"object","properties":{"id":{"type":"string","description":"The internal id of the created event"},"frequency":{"$ref":"#/components/schemas/Frequency"},"duration":{"$ref":"#/components/schemas/Duration"},"trigger":{"$ref":"#/components/schemas/Trigger"},"type":{"type":"string","description":"The type of event","enum":["CREATE_INVOICE","ACTIVATE_INVOICE","SEND_NOTIFICATION","MAKE_PAYMENT","UPDATE_DIRECT_DEBIT_PAYMENTS"]},"details":{"type":"object","description":"Attribute used for defining details related to an event. Can be utilized to create a new invoice request. This flexibility allows to tailor instances effectively, ensuring that the appropriate information and formats are used for each scenario"}},"description":"The list of events that will occur as part of the schedule"},"ScheduleTemplateResponse":{"type":"object","properties":{"id":{"type":"string","description":"The internal id of the schedule template created"},"name":{"type":"string","description":"The name of the schedule template"},"type":{"type":"string","description":"The type of the schedule template","enum":["ONE_TIME_PAYMENT","DD_MANDATE_AUTHORISATION","DD_PAYMENT","SCHEDULE_INVOICE","CREATE_INVOICE"]},"events":{"type":"array","description":"The list of events that will occur as part of the schedule","items":{"$ref":"#/components/schemas/EventTemplateResponse"}}}},"AuthorizeRequest":{"type":"object","properties":{"clientId":{"type":"string"},"refreshToken":{"type":"string"},"redirectUri":{"type":"string"},"scopes":{"type":"string"},"state":{"type":"string"}}},"CreateInvoiceRequest":{"type":"object","properties":{"invoiceNo":{"type":"string","description":"The unique number of the invoice. Acts as an idempotency key.","example":"INV-12345"},"customer":{"$ref":"#/components/schemas/CustomerDetails"},"description":{"type":"string","description":"A short description or summary of the invoice.","example":"Monthly subscription fee for January"},"dueDate":{"type":"string","description":"The due date for the invoice payment.","format":"date-time","example":"2025-12-15T23:59:59Z"},"issueDate":{"type":"string","description":"The date the invoice is issued.","format":"date-time","example":"2025-12-15T09:00:00Z"},"items":{"type":"array","description":"The list of items included in this invoice.","items":{"$ref":"#/components/schemas/NewLineItemRequest"}}},"description":"Create an invoice."},"LineItemExternalData":{"type":"object","properties":{"connectorType":{"type":"string","description":"The connector type","enum":["XERO","QUICKBOOKS"]},"templateId":{"type":"string","description":"The template ID from external platform from which this line item is created. Cannot use both the template ID and the account code."},"accountCode":{"type":"string","description":"The account code from external platform from which this line item is created. Cannot use both the template ID and the account code."}},"description":"References about the line items from external platforms Adfin integrates with."},"NewLineItemRequest":{"type":"object","properties":{"description":{"type":"string","description":"The description of the item."},"quantity":{"type":"number","description":"The quantity of items."},"unitAmount":{"type":"number","description":"The price per unit of the item."},"taxRate":{"type":"number","description":"The tax rate percentage applied on the line item amount (quantity * unit amount)."},"externalData":{"type":"array","description":"Information about this line item captured from external systems","items":{"$ref":"#/components/schemas/LineItemExternalData"}}},"description":"Create or update line items."},"CreditNoteExternalData":{"type":"object","properties":{"connectorType":{"type":"string","description":"The connector type","enum":["XERO","QUICKBOOKS"]},"id":{"type":"string","description":"ID of the Credit Note in the external platform"}},"description":"References about the credit note from external platforms Adfin integrates with."},"CreditNoteResponse":{"type":"object","properties":{"id":{"type":"string","description":"Credit note id."},"number":{"type":"string","description":"Credit note number."},"amount":{"type":"number","description":"Credit note amount."},"valueDate":{"type":"string","description":"Date when credit note was applied.","format":"date-time"},"externalData":{"type":"array","description":"References about this credit note from external platforms Adfin integrates with. Such as ID etc","items":{"$ref":"#/components/schemas/CreditNoteExternalData"}}},"description":"Credit note details."},"DiscountDetails":{"type":"object","properties":{"totalAmount":{"type":"number","description":"The discounted amount"},"expirationDate":{"type":"string","description":"The date until when the discount is valid","format":"date-time"}},"description":"Information about the discount applied to the payment request"},"InvoiceExternalData":{"type":"object","properties":{"connectorType":{"type":"string","description":"The connector type","enum":["XERO","QUICKBOOKS"]},"id":{"type":"string","description":"ID of the Invoice in the external platform"}},"description":"References about the invoice from external platforms Adfin integrates with."},"InvoiceResponse":{"type":"object","properties":{"id":{"type":"string","description":"The internal id of the invoice"},"invoiceNo":{"type":"string","description":"The number of the invoice. Unique value that can be used as idempotency key"},"description":{"type":"string","description":"Short description of the invoice"},"totalAmount":{"type":"string","description":"The invoice total amount. Includes tax amount, amount paid or reduced with credit notes)"},"taxAmount":{"type":"string","description":"The invoice tax amount."},"dueAmount":{"type":"string","description":"The invoice amount due (remaining to be paid)."},"creditNotesAmount":{"type":"string","description":"The total amount that is credited."},"dueDate":{"type":"string","description":"The due date of the invoice","format":"date-time"},"issueDate":{"type":"string","description":"The issue date date of the invoice","format":"date-time"},"creationTime":{"type":"string","description":"The date the invoice was created","format":"date-time"},"lastUpdatedTime":{"type":"string","description":"The date the invoice was last updated","format":"date-time"},"paidTime":{"type":"string","description":"The date the invoice was paid","format":"date-time"},"status":{"type":"string","description":"The status of the invoice.\n* DRAFT: The invoice does not contain contact details for the payer or it is not yet distributed.\n* UNPAID: The invoice is not yet paid.\n* SCHEDULED: The invoice is scheduled to collect the payment via Direct Debit.\n* PAYMENT_PROCESSING: The remaining due amount on the invoice is covered by submitted (but not yet confirmed) Direct Debit payments.\n* OVERDUE: The invoice is not yet paid and it is passed the due date.\n* PAID: The invoice is paid.","enum":["DRAFT","UNPAID","OVERDUE","SCHEDULED","PAYMENT_PROCESSING","PAID","VOID"]},"statusReasonCode":{"type":"string","description":"The reason why the invoice is in a certain status.\n* MISSING_PAYER_CONTACT_DETAILS - The invoice is missing the contact details of payer.\n* PENDING_ACTIVATION - The invoice is not yet distributed by Adfin.","enum":["MISSING_PAYER_CONTACT_DETAILS","PENDING_ACTIVATION","PENDING_DD_MANDATE","OTHER"]},"statusReason":{"type":"string","description":"Custom details on why the invoice is in a certain status"},"customer":{"$ref":"#/components/schemas/CustomerResponse"},"items":{"type":"array","description":"The list of items from the invoice","items":{"$ref":"#/components/schemas/LineItemResponse"}},"paymentRequests":{"type":"array","description":"The payment requests that were created for this invoice","items":{"$ref":"#/components/schemas/PaymentRequestResponse"}},"creditNotes":{"type":"array","description":"The list of credit notes from the invoice","items":{"$ref":"#/components/schemas/CreditNoteResponse"}},"externalData":{"type":"array","description":"References about this invoice from external platforms Adfin integrates with. Such as ID etc","items":{"$ref":"#/components/schemas/InvoiceExternalData"}}},"description":"Invoice response object."},"LineItemResponse":{"type":"object","properties":{"description":{"type":"string","description":"The description of the item."},"quantity":{"type":"number","description":"The quantity of items."},"unitAmount":{"type":"number","description":"The price per unit of the item."},"taxRate":{"type":"number","description":"The tax rate percentage applied on the line item amount (quantity * unit amount)."},"taxAmount":{"type":"number","description":"The tax amount added on top of the line item amount."},"totalAmount":{"type":"number","description":"The total price of the item."},"externalData":{"type":"array","description":"Information about this line item captured from external systems","items":{"$ref":"#/components/schemas/LineItemExternalData"}}},"description":"The line items associated with the invoice."},"PaymentExternalData":{"type":"object","properties":{"connectorType":{"type":"string","description":"The connector type","enum":["XERO","QUICKBOOKS"]},"id":{"type":"string","description":"ID of the payment in the external platform"}},"description":"References about the credit note from external platforms Adfin integrates with."},"PaymentLinkDetails":{"type":"object","properties":{"url":{"type":"string","description":"The payment URL."},"lastSeenTime":{"type":"string","description":"The date when the payment link was seen for the last time","format":"date-time"}},"description":"Payment link details."},"PaymentRequestResponse":{"type":"object","properties":{"description":{"type":"string","description":"Short description of the payment request"},"totalAmount":{"type":"number","description":"The payment request amount"},"paidAmount":{"type":"number","description":"The total amount that is paid"},"currencyCode":{"type":"string","description":"The default currency of the biller.","enum":["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BRL","BSD","BTN","BWP","BYR","BZD","CAD","CDF","CHF","CLP","CNY","COP","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GGP","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","IMP","INR","IQD","IRR","ISK","JEP","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SPL","SRD","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TVD","TWD","TZS","UAH","UGX","USD","UYU","UZS","VEF","VND","VUV","WST","XAF","XCD","XDR","XOF","XPF","YER","ZAR","ZMW","ZWD"]},"payByDate":{"type":"string","description":"The (optional) date until when user recommended the payer to pay","format":"date-time"},"creationTime":{"type":"string","description":"The date the payment request was created","format":"date-time"},"lastNotificationSentTime":{"type":"string","description":"The date the payment request was last sent to the customer","format":"date-time"},"lastUpdatedTime":{"type":"string","description":"The date the payment request was last updated","format":"date-time"},"paidTime":{"type":"string","description":"The date the payment request paid","format":"date-time"},"paymentInitiationDate":{"type":"string","description":"The date when payment is initiated for this payment request (only for Direct Debit)","format":"date-time"},"chargeDate":{"type":"string","description":"The date on which the customer will have their account debited","format":"date-time"},"payoutDate":{"type":"string","description":"The date on which the biller will get paid out for the payment","format":"date-time"},"status":{"type":"string","description":"The status of the payment request.\n* DRAFT: The payment request does not contain contact details for the payer or it is not yet distributed.\n* OVERDUE: The payment request is not yet paid and it is passed the pay by date.\n* UNPAID: The payment request is not yet paid.\n* SCHEDULED: The payment request is scheduled to collect the payment via Direct Debit.\n* PAYMENT_PROCESSING: The remaining due amount on the payment request is covered by submitted (but not yet confirmed) Direct debit payments.\n* PAID: The payment request is paid.\n* CANCELLED: The payment request is paid.","enum":["DRAFT","UNPAID","OVERDUE","SCHEDULED","PAYMENT_PROCESSING","PAID","CANCELLED"]},"statusReasonCode":{"type":"string","description":"The reason why the invoice is in a certain status.\n* MISSING_PAYER_CONTACT_DETAILS - The invoice is missing the contact details of payer.\n* PENDING_ACTIVATION - The invoice is not yet distributed by Adfin.","enum":["MISSING_PAYER_CONTACT_DETAILS","PENDING_ACTIVATION","PENDING_DD_MANDATE","OTHER"]},"statusReason":{"type":"string","description":"Custom details on why the payment request is in a certain status"},"payments":{"type":"array","description":"The payments made as part of this payment request","items":{"$ref":"#/components/schemas/PaymentResponse"}},"discounts":{"type":"array","description":"The discounts applied to this payment request","items":{"$ref":"#/components/schemas/DiscountDetails"}},"paymentLink":{"$ref":"#/components/schemas/PaymentLinkDetails"}},"description":"Payment Request details."},"PaymentResponse":{"type":"object","properties":{"id":{"type":"string","description":"The internal id of the payment"},"creationTime":{"type":"string","description":"The date when the payment was initiated","format":"date-time"},"lastUpdatedTime":{"type":"string","description":"The last time when the payment was updated","format":"date-time"},"amount":{"type":"number","description":"The paid amount"},"status":{"type":"string","description":"Statuses for payments","enum":["PENDING","SUBMITTED","SENT","SUCCESS","CANCELLED","FAILED"]},"paymentMethod":{"type":"string","description":"Payment method types","enum":["BANK_PAYMENT","CARD","APPLE_PAY","GOOGLE_PAY","DIRECT_DEBIT","IMPORTED"]},"channelReferenceId":{"type":"string","description":"The reference id from the payment channel"},"externalData":{"type":"array","description":"References about this payment from external platforms Adfin integrates with","items":{"$ref":"#/components/schemas/PaymentExternalData"}}},"description":"Payment response details"},"CreateCustomerRequest":{"type":"object","properties":{"name":{"type":"string","description":"The full name of the customer.","example":"John Doe"},"people":{"type":"array","description":"A list of people associated with the customer. Can include contacts, representatives, or stakeholders.","example":[{"name":"Jane Smith","email":"jane.smith@example.com"}],"items":{"$ref":"#/components/schemas/Person"}},"addresses":{"type":"array","description":"A list of addresses for the customer. Currently, only one address is supported.","example":[{"line1":"2 Catherine Pl","city":"London","state":"NY","postCode":"SW1E 6HF"}],"items":{"$ref":"#/components/schemas/Address"}}},"description":"Details to create a customer."},"CreateWebhookRequest":{"type":"object","properties":{"url":{"type":"string","description":"The url of the webhook target."},"events":{"type":"array","description":"The list of events to subscribe.","items":{"type":"string","description":"The supported event types for webhooks subscription","enum":["payment","dd-mandate","invoice","biller"]}},"name":{"type":"string","description":"The name of the webhook."},"description":{"type":"string","description":"The description of the webhook."}}},"TemplatesResponse":{"type":"object","properties":{"templates":{"type":"array","description":"The list of schedule templates","items":{"$ref":"#/components/schemas/ScheduleTemplateResponse"}}}},"DefaultSettingsResponse":{"type":"object","properties":{"settings":{"type":"array","items":{"$ref":"#/components/schemas/SettingsResponse"}}}},"SettingsResponse":{"type":"object","properties":{"id":{"type":"string","description":"The internal id of the settings that were created"},"billerId":{"type":"string","description":"The internal id of the biller for which the settings were created"},"customerId":{"type":"string","description":"The internal id of the customer for which the settings were created"},"templateId":{"type":"string","description":"The internal id of the schedule template stored in the settings"},"type":{"type":"string","description":"The type of schedule template stored in the settings","enum":["ONE_TIME_PAYMENT","DD_MANDATE_AUTHORISATION","DD_PAYMENT","SCHEDULE_INVOICE","CREATE_INVOICE"]},"creationTime":{"type":"string","description":"The time settings were created","format":"date-time"},"lastUpdatedTime":{"type":"string","description":"The time settings were updated","format":"date-time"}}},"AppResponse":{"type":"object","properties":{"name":{"type":"string"},"redirectUri":{"type":"array","items":{"type":"string"}},"scopes":{"type":"array","items":{"type":"string"}},"logoFilePath":{"type":"string"}}},"StreamingResponseBody":{"type":"object"},"CustomersResponse":{"type":"object","properties":{"customers":{"type":"array","description":"The list of customers for the specified filter.","items":{"$ref":"#/components/schemas/CustomerResponse"}},"page":{"$ref":"#/components/schemas/PageInfo"}},"description":"The list of customers for the specified filter."},"PageInfo":{"type":"object","properties":{"page":{"type":"integer","description":"The current page number One-based page index (1..N).","format":"int32"},"size":{"type":"integer","description":"The size of the page, i.e., the number of elements per page.","format":"int32"},"totalPages":{"type":"integer","description":"The total number of pages available.","format":"int32"},"totalElements":{"type":"integer","description":"The total number of elements across all pages.","format":"int64"},"numberOfElements":{"type":"integer","description":"The number of elements in the current page.","format":"int64"},"sort":{"type":"string","description":"Sorting criteria in the format: property,(asc|desc)."}},"description":"Contains pagination information for a set of results"},"DirectDebitMandatesResponse":{"type":"object","properties":{"mandates":{"type":"array","description":"The list of all direct debit mandates for the specified filter.","items":{"$ref":"#/components/schemas/DirectDebitMandateResponse"}}},"description":"The list of direct debit mandates for the specified filter."},"WebhooksResponse":{"type":"object","properties":{"webhooksResponse":{"type":"array","description":"The list of webhooks for an application identifier.","items":{"$ref":"#/components/schemas/WebhookResponse"}}},"description":"The list of webhooks configured for an application."}}}}